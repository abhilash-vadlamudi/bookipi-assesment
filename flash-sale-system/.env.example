# Flash Sale System - Environment Configuration
# Copy this file to .env and update with your values

# =================
# Server Configuration
# =================
NODE_ENV=development
PORT=3000

# =================
# Database Configuration
# =================
DATABASE_URL=./flash_sale_system.db

# =================
# Security Configuration
# =================

# JWT Configuration (REQUIRED)
# Generate a secure random string (minimum 32 characters)
JWT_SECRET=your-super-secure-jwt-secret-key-minimum-32-characters-long
JWT_EXPIRES_IN=24h
JWT_ISSUER=flash-sale-system
JWT_AUDIENCE=flash-sale-users

# Password Hashing
# Bcrypt rounds (10-15 recommended, higher = more secure but slower)
BCRYPT_ROUNDS=12

# =================
# Rate Limiting Configuration
# =================

# General API Rate Limiting
RATE_LIMIT_WINDOW_MS=900000    # 15 minutes in milliseconds
RATE_LIMIT_MAX_REQUESTS=100    # Maximum requests per window

# Purchase-specific Rate Limiting
PURCHASE_RATE_LIMIT_WINDOW_MS=60000    # 1 minute in milliseconds
PURCHASE_RATE_LIMIT_MAX=10             # Maximum purchase attempts per window

# Authentication Rate Limiting
AUTH_RATE_LIMIT_WINDOW_MS=900000       # 15 minutes in milliseconds
AUTH_RATE_LIMIT_MAX=5                  # Maximum failed login attempts per window

# =================
# CORS Configuration
# =================
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001,https://yourdomain.com

# =================
# Account Security
# =================
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION=900000        # 15 minutes in milliseconds

# =================
# Logging Configuration
# =================
LOG_LEVEL=info                 # error, warn, info, debug
LOG_FILE_MAX_SIZE=10485760     # 10MB in bytes
LOG_MAX_FILES=10

# =================
# Security Headers Configuration
# =================
HELMET_CSP_ENABLED=true
HELMET_HSTS_MAX_AGE=31536000   # 1 year in seconds

# =================
# Database Performance Settings
# =================
DB_CACHE_SIZE=64000            # SQLite cache size in KB
DB_MMAP_SIZE=268435456         # 256MB memory map size
DB_CONNECTION_TIMEOUT=30000     # 30 seconds

# =================
# Health Check Configuration
# =================
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_DATABASE=true
HEALTH_CHECK_MEMORY_THRESHOLD=1073741824  # 1GB in bytes

# =================
# Feature Flags
# =================
FEATURE_AUDIT_LOGGING=true
FEATURE_PERFORMANCE_MONITORING=true
FEATURE_SECURITY_HEADERS=true
FEATURE_REQUEST_VALIDATION=true

# =================
# Flash Sale Defaults
# =================
DEFAULT_FLASH_SALE_DURATION=3600000      # 1 hour in milliseconds
MAX_PURCHASE_QUANTITY=1                   # Maximum items per purchase
INVENTORY_RESERVE_TIMEOUT=300000          # 5 minutes in milliseconds

# =================
# Example Values for Development
# =================
# NODE_ENV=development
# PORT=3000
# DATABASE_URL=./flash_sale_system.db
# JWT_SECRET=dev-secret-key-please-change-for-production-minimum-32-chars
# JWT_EXPIRES_IN=24h
# BCRYPT_ROUNDS=10
# RATE_LIMIT_WINDOW_MS=900000
# RATE_LIMIT_MAX_REQUESTS=100
# LOG_LEVEL=debug
# ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001
